% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/BulkRNAseq.R
\name{DesignModelMatrix}
\alias{DesignModelMatrix}
\title{Create a Model Matrix for Experimental Design}
\usage{
DesignModelMatrix(meta_df, contrast_columns, sampleIdCol = "cDNA_ID")
}
\arguments{
\item{meta_df}{A data frame containing sample metadata.}

\item{contrast_columns}{Character vector. Column names in `meta_df` to be used for defining experimental groups.}

\item{sampleIdCol}{Character. Name of the column in `meta_df` that contains sample identifiers (default: `"cDNA_ID"`).}
}
\value{
A model matrix where rows correspond to samples and columns correspond to experimental conditions.
        The matrix includes attributes `"contrast_columns"` and `"sampleIdCol"` for reference.
}
\description{
This function generates a model matrix for statistical analysis based on metadata. It creates a grouping variable
from the specified contrast columns, ensuring proper formatting for downstream analysis.
}
\details{
This function:
\itemize{
  \item Merges (`unites`) values from `contrast_columns` into a single `group` column.
  \item Ensures valid R variable names using `make.names()`.
  \item Constructs a design matrix using `stats::model.matrix()`, encoding the experimental conditions.
  \item Attaches metadata attributes (`contrast_columns`, `sampleIdCol`) to the resulting matrix.
}
}
\examples{
\dontrun{
if(requireNamespace("dplyr", quietly = TRUE) && requireNamespace("tidyr", quietly = TRUE)) {
    metadata <- data.frame(
        cDNA_ID = c("Sample1", "Sample2", "Sample3"),
        Treatment = c("A", "B", "A"),
        Batch = c("X", "X", "Y")
    )
    design_matrix <- DesignModelMatrix(metadata, contrast_columns = c("Treatment", "Batch"))
    print(design_matrix)
}
}
}
